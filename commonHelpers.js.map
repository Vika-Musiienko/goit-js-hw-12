{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '42576318-0e1c04293cd098153cdda1833';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchData(searchQuery, page, perPage = 15) { // Додавання perPage як параметру за замовчуванням\n    try {\n        const response = await axios.get(BASE_URL, {\n            params: {\n                key: API_KEY,\n                q: searchQuery,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n                page: page,\n                per_page: perPage,\n            }\n        });\n        return response.data;\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        throw error;\n    }\n}","export function renderMurcup(images) {\n    return images.map(image => `\n        <div class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <div class=\"gallery-image-info\">\n                <p class=\"image-info-item\"><span class=\"image-items-text\">Likes: </span>${image.likes}</p>\n                <p class=\"image-info-item\"><span class=\"image-items-text\">Views: </span>${image.views}</p>\n                <p class=\"image-info-item\"><span class=\"image-items-text\">Comments: </span>${image.comments}</p>\n                <p class=\"image-info-item\"><span class=\"image-items-text\">Downloads: </span>${image.downloads}</p>\n            </div>\n        </div>\n    `).join('');\n}\n\n\n ","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchData } from \"./js/pixabay-api.js\";\nimport { renderMurcup } from \"./js/render-functions.js\";\n\nconst lightbox = new SimpleLightbox(\".gallery-link\", {\n    captionsData: \"alt\",\n    captionDelay: 250,\n});\n\nconst form = document.querySelector(\"#searchForm\");\nconst container = document.querySelector(\".gallery\");\nconst loader = document.querySelector('.loader');\nconst loadMoreBtn = document.getElementById('loadMoreBtn');\nlet searchQuery = \"\";\nlet currentPage = 1;\nconst perPage = 15; // Додавання perPage як константи\n\nform.addEventListener(\"submit\", onSubmit);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    container.innerHTML = \"\";\n    currentPage = 1;\n    searchQuery = form.elements.searchQuery.value.trim();\n    fetchAndRenderImages();\n}\n\nasync function onLoadMore() {\n    currentPage++;\n    fetchAndRenderImages();\n}\n\nasync function fetchAndRenderImages() {\n    try {\n        showLoader();\n        const data = await fetchData(searchQuery, currentPage, perPage); // Додавання perPage як третього аргументу\n        const images = data.hits;\n\n        if (images.length === 0) {\n            showNoImagesMessage();\n        } else {\n            renderImageGallery(images);\n            showLoadMoreButton();\n            smoothScroll();\n            lightbox.refresh();\n        }\n    } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        hideLoader();\n    }\n}\n\nfunction renderImageGallery(images) {\n    const murcup = renderMurcup(images);\n    container.insertAdjacentHTML('beforeend', murcup);\n    hideLoader();\n}\n\nfunction showLoader() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n}\n\nfunction showLoadMoreButton() {\n    loadMoreBtn.style.display = 'block';\n}\n\nfunction hideLoadMoreButton() {\n    loadMoreBtn.style.display = 'none';\n}\n\nfunction showNoImagesMessage() {\n    iziToast.error({\n        fontSize: 'large',\n        close: false,\n        position: 'topRight',\n        messageColor: 'white',\n        timeout: 2000,\n        backgroundColor: 'red',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n}\n\nfunction smoothScroll() {\n    window.scrollBy({\n        top: container.getBoundingClientRect().height * 2,\n        behavior: 'smooth'\n    });\n}"],"names":["API_KEY","BASE_URL","fetchData","searchQuery","page","perPage","axios","error","renderMurcup","images","image","lightbox","SimpleLightbox","form","container","loader","loadMoreBtn","currentPage","onSubmit","onLoadMore","event","fetchAndRenderImages","showLoader","showNoImagesMessage","renderImageGallery","showLoadMoreButton","smoothScroll","hideLoader","murcup","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAUC,EAAaC,EAAMC,EAAU,GAAI,CAC7D,GAAI,CAYA,OAXiB,MAAMC,EAAM,IAAIL,EAAU,CACvC,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAUC,CACb,CACb,CAAS,GACe,IACnB,OAAQE,EAAO,CACZ,cAAQ,MAAM,uBAAwBA,CAAK,EACrCA,CACT,CACL,CCvBO,SAASC,EAAaC,EAAQ,CACjC,OAAOA,EAAO,IAAIC,GAAS;AAAA;AAAA,4CAEaA,EAAM,aAAa;AAAA,kDACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,0FAGEA,EAAM,KAAK;AAAA,0FACXA,EAAM,KAAK;AAAA,6FACRA,EAAM,QAAQ;AAAA,8FACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAGxG,EAAE,KAAK,EAAE,CACd,CCPA,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAClB,CAAC,EAEKC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAc,SAAS,eAAe,aAAa,EACzD,IAAIb,EAAc,GACdc,EAAc,EAClB,MAAMZ,EAAU,GAEhBQ,EAAK,iBAAiB,SAAUK,CAAQ,EACxCF,EAAY,iBAAiB,QAASG,CAAU,EAEhD,SAASD,EAASE,EAAO,CACrBA,EAAM,eAAc,EACpBN,EAAU,UAAY,GACtBG,EAAc,EACdd,EAAcU,EAAK,SAAS,YAAY,MAAM,KAAI,EAClDQ,GACJ,CAEA,eAAeF,GAAa,CACxBF,IACAI,GACJ,CAEA,eAAeA,GAAuB,CAClC,GAAI,CACAC,IAEA,MAAMb,GADO,MAAMP,EAAUC,EAAac,EAAaZ,CAAO,GAC1C,KAEhBI,EAAO,SAAW,EAClBc,KAEAC,EAAmBf,CAAM,EACzBgB,IACAC,IACAf,EAAS,QAAO,EAEvB,OAAQJ,EAAO,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CoB,GACH,CACL,CAEA,SAASH,EAAmBf,EAAQ,CAChC,MAAMmB,EAASpB,EAAaC,CAAM,EAClCK,EAAU,mBAAmB,YAAac,CAAM,EAChDD,GACJ,CAEA,SAASL,GAAa,CAClBP,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASY,GAAa,CAClBZ,EAAO,MAAM,QAAU,MAC3B,CAEA,SAASU,GAAqB,CAC1BT,EAAY,MAAM,QAAU,OAChC,CAMA,SAASO,GAAsB,CAC3BM,EAAS,MAAM,CACX,SAAU,QACV,MAAO,GACP,SAAU,WACV,aAAc,QACd,QAAS,IACT,gBAAiB,MACjB,QAAS,0EACjB,CAAK,CACL,CAEA,SAASH,GAAe,CACpB,OAAO,SAAS,CACZ,IAAKZ,EAAU,sBAAuB,EAAC,OAAS,EAChD,SAAU,QAClB,CAAK,CACL"}